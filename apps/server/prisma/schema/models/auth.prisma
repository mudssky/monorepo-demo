enum UserStatus {
  ACTIVE //正常
  INACTIVE //暂时未使用
  DISABLE //禁用
}

enum Role {
  USER
  ADMIN
}

// 注册方式需要做一个区分
enum RegistryType {
  NORMAL //正常注册
  GITHUB //github注册
  GOOGLE //google注册
}

/// 用户表
model User {
  id             String       @id @default(uuid(7))
  /// 邮箱
  email          String?      @unique
  /// 用户名
  name           String       @unique
  nickName       String?      @unique
  /// 密码
  password       String?
  /// 用户头像
  avatarUrl      String?
  /// 角色
  role           Role         @default(USER)
  /// 用户状态
  status         UserStatus   @default(ACTIVE)
  /// 注册时间
  createdAt      DateTime     @default(now())
  /// 注册方式
  registryType   RegistryType @default(NORMAL)
  /// github id
  githubId       String?      @unique
  /// github 授权信息
  githubAuthInfo String?
  /// google id
  googleId       String?      @unique
  /// google 授权信息
  googleAuthInfo String?
  /// 用户主动添加好友的用户列表
  friends        Friendship[] @relation("friends")
  /// 用户被添加好友的用户列表
  friendBys      Friendship[] @relation("friendBys")

  @@index([id])
}
